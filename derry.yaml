test: pub run test
generate: pub run build_runner build --delete-conflicting-outputs
sort-imports: pub run import_sorter:main
publish:
  - $generate
  - $test
  - pub publish --dry-run
cargo_build:
  (execution): once
  (scripts):
    - cd native
    - cargo build --release
    - cd ../
build:
  win64:
    - $cargo_build
    - COPY native/target\release\executor.dll lib\src\blobs\executor_win64.dll
  mac64:
    - $cargo_build
    - cp native/target/release/libexecutor.dylib lib/src/blobs/executor_mac64.dylib
  linux64:
    - $cargo_build
    - cp native/target/release/libexecutor.so lib/src/blobs/executor_linux64.so
